(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,n){e.exports=n(48)},37:function(e,t,n){},41:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(21),i=n.n(o),c=n(17),s=n(44),u=n(9),m=n.n(u),l=n(10),d=n(22),p=n(23),h=n(46),f=n(24),E=n(45),v=n(8),x=n(56),b=n(20),w=n(39),g=n(7),I=n(40);n(37);var k=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{className:b.a.DARK},r.a.createElement(w.a,{align:g.a.LEFT},r.a.createElement(I.a,null,"Todo App"))),r.a.createElement("div",{className:"page"},e.children))},O=n(50),j=n(43),T=n(55),C=n(13),N=n(51),y=n(52),S=n(53),M=n(54);n(41);var R=function(e){var t=e.items,n=e.onNewItem,a=e.onRemoveItem,o=e.newItemText,i=e.onChangeNewItemText,c=e.onExitEditMode,s=e.onEnterEditMode,u=e.onToggleItemComplete,m=e.error;return r.a.createElement("div",null,r.a.createElement(k,null,r.a.createElement(O.a,null,r.a.createElement(j.a,null,"TODO"),r.a.createElement(T.a,{text:"New Item",intent:C.a.PRIMARY,icon:"new-object",className:"new-todo-item",onClick:n}),m&&r.a.createElement(N.a,{intent:C.a.DANGER},"error"),r.a.createElement(y.a,null),r.a.createElement(j.d,{className:"todo-list"},t.map(function(e){return r.a.createElement("li",{className:"todo-item",key:e.id},r.a.createElement(T.a,{small:!0,icon:"remove",intent:"danger",className:"todo-item-action",onClick:function(){return a(e)}}),e.isEditting?r.a.createElement(S.a,{small:!0,className:"todo-item-text-edit",placeholder:"Item text ...",value:o,onChange:i,onBlur:function(){return c(e)},inputRef:function(e){return e&&e.focus()}}):r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{className:"todo-item-label",checked:e.isChecked,onClick:function(){return u(e)}}),r.a.createElement(j.c,{className:"todo-item-label ".concat(e.isChecked?"done":""),onClick:function(){return s(e)}},e.text)))})))))},A="http://localhost:4000";function D(e,t,n){return F.apply(this,arguments)}function F(){return(F=Object(l.a)(m.a.mark(function e(t,n,a){var r,o,i;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(A).concat(t),{method:n,headers:{Accept:"application/json","Content-Type":"application/json"},body:a?JSON.stringify(a):void 0});case 2:return r=e.sent,e.next=5,r.json();case 5:if(o=e.sent,200===r.status){e.next=9;break}throw o&&o.errors&&(i=o.errors[0].message),Error(i||"There was an error");case 9:return e.abrupt("return",o.data);case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function J(e,t){return D("/todo/".concat(e),"POST",t)}var P=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this,e))).state={error:"",items:[],newItemText:""},n.onNewItem=n.onNewItem.bind(Object(v.a)(Object(v.a)(n))),n.onRemoveItem=n.onRemoveItem.bind(Object(v.a)(Object(v.a)(n))),n.onChangeNewItemText=n.onChangeNewItemText.bind(Object(v.a)(Object(v.a)(n))),n.onExitEditMode=n.onExitEditMode.bind(Object(v.a)(Object(v.a)(n))),n.onEnterEditMode=n.onEnterEditMode.bind(Object(v.a)(Object(v.a)(n))),n.onToggleItemComplete=n.onToggleItemComplete.bind(Object(v.a)(Object(v.a)(n))),n}return Object(E.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D("/todo","GET");case 3:t=e.sent,this.setState({items:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({error:e.t0.message});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"onNewItem",value:function(){var e=Object(l.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D("/todo","POST",{text:"",isChecked:!1});case 3:t=e.sent,this.setState({items:Object(s.a)(this.state.items).concat([Object(c.a)({},t,{isEditting:!0})])}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({error:e.t0.message});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"onRemoveItem",value:function(){var e=Object(l.a)(m.a.mark(function e(t){var n,a,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o=t.id,D("/todo/".concat(o),"DELETE");case 3:if(n=this.state.items,-1!==(a=n.findIndex(function(e){return e.id===t.id}))){e.next=7;break}return e.abrupt("return");case 7:r=n.slice(),console.log(r),r.splice(a,1),this.setState({items:r}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),this.setState({error:e.t0.message});case 16:case"end":return e.stop()}var o},e,this,[[0,13]])}));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeNewItemText",value:function(e){this.setState({newItemText:e.target.value})}},{key:"onExitEditMode",value:function(){var e=Object(l.a)(m.a.mark(function e(t){var n,a,r,o;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.state,a=n.items,r=n.newItemText,e.next=4,J(t.id,{text:r});case 4:o=e.sent,this.setState({newItemText:"",items:a.map(function(e){return e.id===t.id?Object(c.a)({},o,{isEditting:!1}):e})}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState({error:e.t0.message});case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"onEnterEditMode",value:function(e){var t=this.state.items;this.setState({newItemText:e.text,items:t.map(function(t){return t.id===e.id?Object(c.a)({},t,{isEditting:!0}):t})})}},{key:"onToggleItemComplete",value:function(){var e=Object(l.a)(m.a.mark(function e(t){var n,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J(t.id,{isChecked:!t.isChecked});case 3:n=e.sent,a=this.state.items,this.setState({items:a.map(function(e){return e.id===t.id?n:e})}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState({error:e.t0.message});case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.items,n=e.newItemText,a=e.error;return r.a.createElement(R,{items:t,onNewItem:this.onNewItem,onRemoveItem:this.onRemoveItem,onChangeNewItemText:this.onChangeNewItemText,newItemText:n,onExitEditMode:this.onExitEditMode,onEnterEditMode:this.onEnterEditMode,onToggleItemComplete:this.onToggleItemComplete,error:a})}}]),t}(r.a.Component);i.a.render(r.a.createElement(P,null),document.getElementById("root"))}},[[30,2,1]]]);
//# sourceMappingURL=main.d6b80ef9.chunk.js.map